import \'package:flutter/material.dart\';\n\nclass ProductCard extends StatelessWidget {\n  final Map<String, dynamic> product;\n  final VoidCallback onAddToCart;\n\n  const ProductCard({super.key, required this.product, required this.onAddToCart});\n\n  @override\n  Widget build(BuildContext context) {\n    final title = product[\'title\'] ?? \'Sans titre\';\n    final imageUrl = product[\'image\'] as String?;\n    final price = product[\'price\']?.toStringAsFixed(2) ?? \'N/A\';\n    final category = product[\'category\'] ?? \'Inconnue\';\n\n    return Card(\n      clipBehavior: Clip.antiAlias,\n      elevation: 4.0,\n      shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(12)),\n      child: Column(\n        crossAxisAlignment: CrossAxisAlignment.stretch,\n        children: [\n          Expanded(\n            child: Hero(\n              tag: \'product_image_${product[\'_id\']}\',\n              child: (imageUrl != null && imageUrl.isNotEmpty)\n                  ? Image.network(\n                      imageUrl,\n                      fit: BoxFit.cover,\n                      loadingBuilder: (context, child, progress) {\n                        if (progress == null) return child;\n                        return Center(\n                          child: CircularProgressIndicator(\n                            value: progress.expectedTotalBytes != null\n                                ? progress.cumulativeBytesLoaded / progress.expectedTotalBytes!\n                                : null,\n                          ),\n                        );\n                      },\n                      errorBuilder: (context, error, stackTrace) => \n                        const Icon(Icons.image_not_supported, color: Colors.grey, size: 50),\n                    )\n                  : const Icon(Icons.image_not_supported, color: Colors.grey, size: 50),\n            ),\n          ),\n          Padding(\n            padding: const EdgeInsets.all(8.0),\n            child: Column(\n              crossAxisAlignment: CrossAxisAlignment.start,\n              children: [\n                Text(\n                  title,\n                  style: Theme.of(context).textTheme.titleMedium?.copyWith(fontWeight: FontWeight.bold),\n                  maxLines: 2,\n                  overflow: TextOverflow.ellipsis,\n                ),\n                const SizedBox(height: 4),\n                Text(\n                  category,\n                  style: Theme.of(context).textTheme.bodySmall?.copyWith(color: Colors.grey[600]),\n                ),\n              ],\n            ),\n          ),\n          Padding(\n            padding: const EdgeInsets.symmetric(horizontal: 8.0),\n            child: Row(\n              mainAxisAlignment: MainAxisAlignment.spaceBetween,\n              children: [\n                Text(\n                  \'\$${price}\',\n                  style: Theme.of(context).textTheme.titleLarge?.copyWith(\n                    color: Theme.of(context).colorScheme.primary,\n                    fontWeight: FontWeight.bold,\n                  ),\n                ),\n                IconButton(\n                  icon: const Icon(Icons.add_shopping_cart),\n                  onPressed: onAddToCart,\n                  tooltip: \'Ajouter au panier\',\n                  color: Theme.of(context).colorScheme.secondary,\n                ),\n              ],\n            ),\n          ),\n          const SizedBox(height: 4),\n        ],\n      ),\n    );\n  }\n}\n